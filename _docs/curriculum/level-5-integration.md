# Level 5: í†µí•© í…ŒìŠ¤íŠ¸

> ğŸ¯ ëª©í‘œ: ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ë™ì‘í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í…ŒìŠ¤íŠ¸í•œë‹¤

## ğŸ“‹ ê³¼ì œ ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë‚œì´ë„ | â­â­â­â­ ì¤‘ìƒê¸‰ |
| ì˜ˆìƒ ì†Œìš” ì‹œê°„ | 8-10ì‹œê°„ |
| ì„ ìˆ˜ ì§€ì‹ | Level 4 ì™„ë£Œ |
| í•™ìŠµ í‚¤ì›Œë“œ | ë‹¤ì¤‘ ì»´í¬ë„ŒíŠ¸, Context, ìƒíƒœ ê´€ë¦¬, ë¼ìš°íŒ…, ì‚¬ìš©ì í”Œë¡œìš° |

---

## ğŸ¨ ê³¼ì œ 5-1: ìƒí’ˆ ê²€ìƒ‰ â†’ ì¥ë°”êµ¬ë‹ˆ í”Œë¡œìš°

### ì™€ì´ì–´í”„ë ˆì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Search to Cart Flow                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Step 1: ê²€ìƒ‰                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ” [ë…¸íŠ¸ë¶____________] [ê²€ìƒ‰]                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                        â”‚
â”‚  Step 2: ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ìƒí’ˆ ì„ íƒ                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ê²€ìƒ‰ ê²°ê³¼: "ë…¸íŠ¸ë¶" (3ê°œ)                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚   â”‚
â”‚  â”‚  â”‚ ë…¸íŠ¸ë¶A  â”‚  â”‚ ë…¸íŠ¸ë¶B  â”‚  â”‚ ë…¸íŠ¸ë¶C  â”‚ â† í´ë¦­           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                        â”‚
â”‚  Step 3: ìƒí’ˆ ìƒì„¸ì—ì„œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë…¸íŠ¸ë¶C                                                  â”‚   â”‚
â”‚  â”‚  â‚©1,200,000                                              â”‚   â”‚
â”‚  â”‚  ìˆ˜ëŸ‰: [1]  [ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°] â† í´ë¦­                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                        â”‚
â”‚  Step 4: í—¤ë”ì˜ ì¥ë°”êµ¬ë‹ˆ ì•„ì´ì½˜ ì—…ë°ì´íŠ¸                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë¡œê³         ê²€ìƒ‰        ì¥ë°”êµ¬ë‹ˆ(1) â† ìˆ«ì ì¦ê°€          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                        â”‚
â”‚  Step 5: ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ í™•ì¸                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì¥ë°”êµ¬ë‹ˆ                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ ë…¸íŠ¸ë¶C  ìˆ˜ëŸ‰: 1  â‚©1,200,000                         â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëª…ì„¸

```typescript
// src/level-5-integration/__tests__/SearchToCartFlow.test.tsx

import { render, screen, waitFor, within } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import { MemoryRouter, Routes, Route } from 'react-router-dom'
import { CartProvider } from '@/contexts/CartContext'
import { Layout } from '@/components/Layout'
import { SearchPage } from '@/pages/SearchPage'
import { ProductDetailPage } from '@/pages/ProductDetailPage'
import { CartPage } from '@/pages/CartPage'

// í…ŒìŠ¤íŠ¸ìš© ì•± ë˜í¼
function renderWithProviders(initialRoute = '/search') {
  return render(
    <MemoryRouter initialEntries={[initialRoute]}>
      <CartProvider>
        <Routes>
          <Route element={<Layout />}>
            <Route path="/search" element={<SearchPage />} />
            <Route path="/products/:id" element={<ProductDetailPage />} />
            <Route path="/cart" element={<CartPage />} />
          </Route>
        </Routes>
      </CartProvider>
    </MemoryRouter>
  )
}

describe('ê²€ìƒ‰ â†’ ì¥ë°”êµ¬ë‹ˆ í”Œë¡œìš°', () => {
  test('ê²€ìƒ‰ í›„ ìƒí’ˆì„ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€í•˜ë©´ í—¤ë” ì¹´ìš´íŠ¸ê°€ ì—…ë°ì´íŠ¸ëœë‹¤', async () => {
    const user = userEvent.setup()
    renderWithProviders('/search')
    
    // Step 1: ê²€ìƒ‰
    const searchInput = screen.getByPlaceholderText(/ê²€ìƒ‰/i)
    await user.type(searchInput, 'ë…¸íŠ¸ë¶{Enter}')
    
    // Step 2: ê²€ìƒ‰ ê²°ê³¼ í™•ì¸ ë° ìƒí’ˆ í´ë¦­
    expect(await screen.findByText(/ê²€ìƒ‰ ê²°ê³¼/i)).toBeInTheDocument()
    await user.click(screen.getByText('ë…¸íŠ¸ë¶C'))
    
    // Step 3: ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ì—ì„œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
    expect(await screen.findByText('â‚©1,200,000')).toBeInTheDocument()
    await user.click(screen.getByRole('button', { name: /ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°/i }))
    
    // Step 4: í—¤ë” ì¥ë°”êµ¬ë‹ˆ ì¹´ìš´íŠ¸ í™•ì¸
    const header = screen.getByRole('banner')
    expect(within(header).getByText('1')).toBeInTheDocument()
  })

  test('ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ ì¶”ê°€í•œ ìƒí’ˆì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤', async () => {
    const user = userEvent.setup()
    renderWithProviders('/search')
    
    // ê²€ìƒ‰ ë° ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
    await user.type(screen.getByPlaceholderText(/ê²€ìƒ‰/i), 'ë…¸íŠ¸ë¶{Enter}')
    await user.click(await screen.findByText('ë…¸íŠ¸ë¶C'))
    await user.click(await screen.findByRole('button', { name: /ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°/i }))
    
    // ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ë¡œ ì´ë™
    await user.click(screen.getByRole('link', { name: /ì¥ë°”êµ¬ë‹ˆ/i }))
    
    // ì¥ë°”êµ¬ë‹ˆì—ì„œ ìƒí’ˆ í™•ì¸
    expect(await screen.findByText('ë…¸íŠ¸ë¶C')).toBeInTheDocument()
    expect(screen.getByText('â‚©1,200,000')).toBeInTheDocument()
  })

  test('ê°™ì€ ìƒí’ˆì„ ì—¬ëŸ¬ ë²ˆ ì¶”ê°€í•˜ë©´ ìˆ˜ëŸ‰ì´ ì¦ê°€í•œë‹¤', async () => {
    const user = userEvent.setup()
    renderWithProviders('/search')
    
    // ì²« ë²ˆì§¸ ì¶”ê°€
    await user.type(screen.getByPlaceholderText(/ê²€ìƒ‰/i), 'ë…¸íŠ¸ë¶{Enter}')
    await user.click(await screen.findByText('ë…¸íŠ¸ë¶C'))
    await user.click(await screen.findByRole('button', { name: /ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°/i }))
    
    // ë‹¤ì‹œ ê²€ìƒ‰ í›„ ê°™ì€ ìƒí’ˆ ì¶”ê°€
    await user.click(screen.getByRole('link', { name: /ê²€ìƒ‰/i }))
    await user.type(screen.getByPlaceholderText(/ê²€ìƒ‰/i), 'ë…¸íŠ¸ë¶{Enter}')
    await user.click(await screen.findByText('ë…¸íŠ¸ë¶C'))
    await user.click(await screen.findByRole('button', { name: /ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°/i }))
    
    // í—¤ë” ì¹´ìš´íŠ¸ëŠ” ì—¬ì „íˆ 1 (ìƒí’ˆ ì¢…ë¥˜ ìˆ˜)
    // í•˜ì§€ë§Œ ìˆ˜ëŸ‰ì€ 2
    await user.click(screen.getByRole('link', { name: /ì¥ë°”êµ¬ë‹ˆ/i }))
    
    expect(await screen.findByText('2')).toBeInTheDocument() // ìˆ˜ëŸ‰
  })
})
```

---

## ğŸ¨ ê³¼ì œ 5-2: ë¡œê·¸ì¸ â†’ ì£¼ë¬¸ í”Œë¡œìš°

### ì™€ì´ì–´í”„ë ˆì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Login to Order Flow                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Step 1: ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ì£¼ë¬¸í•˜ê¸° í´ë¦­                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì¥ë°”êµ¬ë‹ˆ                                                 â”‚   â”‚
â”‚  â”‚  ë…¸íŠ¸ë¶  â‚©1,500,000                                      â”‚   â”‚
â”‚  â”‚  [ì£¼ë¬¸í•˜ê¸°] â† í´ë¦­                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                        â”‚
â”‚  Step 2: ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤                                       â”‚   â”‚
â”‚  â”‚  ì´ë©”ì¼: [____________]                                   â”‚   â”‚
â”‚  â”‚  ë¹„ë°€ë²ˆí˜¸: [____________]                                  â”‚   â”‚
â”‚  â”‚  [ë¡œê·¸ì¸]                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â†“                                        â”‚
â”‚  Step 3: ë¡œê·¸ì¸ ì„±ê³µ í›„ ì£¼ë¬¸ í˜ì´ì§€ë¡œ ìë™ ì´ë™                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ì£¼ë¬¸/ê²°ì œ                                                â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  ë°°ì†¡ ì •ë³´                                                â”‚   â”‚
â”‚  â”‚  í™ê¸¸ë™ (ê¸°ì¡´ ì •ë³´ ìë™ ì…ë ¥)                              â”‚   â”‚
â”‚  â”‚  010-1234-5678                                           â”‚   â”‚
â”‚  â”‚  ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  ì£¼ë¬¸ ìƒí’ˆ                                                â”‚   â”‚
â”‚  â”‚  ë…¸íŠ¸ë¶ x 1  â‚©1,500,000                                  â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  [ê²°ì œí•˜ê¸°]                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëª…ì„¸

```typescript
// src/level-5-integration/__tests__/LoginToOrderFlow.test.tsx

import { render, screen, waitFor } from '@testing-library/react'
import userEvent from '@testing-library/user-event'
import { MemoryRouter, Routes, Route } from 'react-router-dom'
import { AuthProvider } from '@/contexts/AuthContext'
import { CartProvider } from '@/contexts/CartContext'
import { LoginPage } from '@/pages/LoginPage'
import { CartPage } from '@/pages/CartPage'
import { CheckoutPage } from '@/pages/CheckoutPage'
import { server } from '@/mocks/server'
import { http, HttpResponse } from 'msw'

function renderWithProviders(initialRoute = '/cart') {
  return render(
    <MemoryRouter initialEntries={[initialRoute]}>
      <AuthProvider>
        <CartProvider>
          <Routes>
            <Route path="/login" element={<LoginPage />} />
            <Route path="/cart" element={<CartPage />} />
            <Route path="/checkout" element={<CheckoutPage />} />
          </Routes>
        </CartProvider>
      </AuthProvider>
    </MemoryRouter>
  )
}

describe('ë¡œê·¸ì¸ â†’ ì£¼ë¬¸ í”Œë¡œìš°', () => {
  beforeEach(() => {
    // ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆì´ ìˆëŠ” ìƒíƒœë¡œ ì‹œì‘
    server.use(
      http.get('/api/cart', () => {
        return HttpResponse.json({
          items: [
            { id: 1, productId: 1, quantity: 1, product: { name: 'ë…¸íŠ¸ë¶', price: 1500000 } }
          ],
          totalPrice: 1500000
        })
      })
    )
  })

  test('ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ì£¼ë¬¸í•˜ê¸° í´ë¦­ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•œë‹¤', async () => {
    const user = userEvent.setup()
    renderWithProviders('/cart')
    
    await screen.findByText('ë…¸íŠ¸ë¶')
    await user.click(screen.getByRole('button', { name: /ì£¼ë¬¸í•˜ê¸°/i }))
    
    // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
    expect(await screen.findByText(/ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤/i)).toBeInTheDocument()
    expect(screen.getByLabelText(/ì´ë©”ì¼/i)).toBeInTheDocument()
  })

  test('ë¡œê·¸ì¸ ì„±ê³µ í›„ ì£¼ë¬¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ëœë‹¤', async () => {
    // ë¡œê·¸ì¸ API ëª¨í‚¹
    server.use(
      http.post('/api/auth/login', () => {
        return HttpResponse.json({
          user: { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com' },
          token: 'mock-token'
        })
      }),
      http.get('/api/user', () => {
        return HttpResponse.json({
          id: 1,
          name: 'í™ê¸¸ë™',
          email: 'hong@example.com',
          phone: '010-1234-5678',
          address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬'
        })
      })
    )
    
    const user = userEvent.setup()
    renderWithProviders('/cart')
    
    // ì£¼ë¬¸í•˜ê¸° â†’ ë¡œê·¸ì¸ í˜ì´ì§€
    await screen.findByText('ë…¸íŠ¸ë¶')
    await user.click(screen.getByRole('button', { name: /ì£¼ë¬¸í•˜ê¸°/i }))
    
    // ë¡œê·¸ì¸
    await user.type(screen.getByLabelText(/ì´ë©”ì¼/i), 'hong@example.com')
    await user.type(screen.getByLabelText(/ë¹„ë°€ë²ˆí˜¸/i), 'password123')
    await user.click(screen.getByRole('button', { name: /ë¡œê·¸ì¸/i }))
    
    // ì£¼ë¬¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    expect(await screen.findByText(/ì£¼ë¬¸\/ê²°ì œ/i)).toBeInTheDocument()
    expect(screen.getByText('ë…¸íŠ¸ë¶')).toBeInTheDocument()
    expect(screen.getByText('â‚©1,500,000')).toBeInTheDocument()
  })

  test('ë¡œê·¸ì¸ í›„ ì‚¬ìš©ì ì •ë³´ê°€ ìë™ìœ¼ë¡œ ì±„ì›Œì§„ë‹¤', async () => {
    server.use(
      http.post('/api/auth/login', () => {
        return HttpResponse.json({
          user: { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com' },
          token: 'mock-token'
        })
      }),
      http.get('/api/user', () => {
        return HttpResponse.json({
          id: 1,
          name: 'í™ê¸¸ë™',
          phone: '010-1234-5678',
          address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123'
        })
      })
    )
    
    const user = userEvent.setup()
    renderWithProviders('/cart')
    
    await screen.findByText('ë…¸íŠ¸ë¶')
    await user.click(screen.getByRole('button', { name: /ì£¼ë¬¸í•˜ê¸°/i }))
    
    await user.type(screen.getByLabelText(/ì´ë©”ì¼/i), 'hong@example.com')
    await user.type(screen.getByLabelText(/ë¹„ë°€ë²ˆí˜¸/i), 'password123')
    await user.click(screen.getByRole('button', { name: /ë¡œê·¸ì¸/i }))
    
    // ì£¼ë¬¸ í˜ì´ì§€ì—ì„œ ì‚¬ìš©ì ì •ë³´ í™•ì¸
    await waitFor(() => {
      expect(screen.getByDisplayValue('í™ê¸¸ë™')).toBeInTheDocument()
      expect(screen.getByDisplayValue('010-1234-5678')).toBeInTheDocument()
    })
  })
})
```

---

## ğŸ¨ ê³¼ì œ 5-3: í•„í„° + ì •ë ¬ + í˜ì´ì§€ë„¤ì´ì…˜ í†µí•©

### ì™€ì´ì–´í”„ë ˆì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Filter + Sort + Pagination Integration              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ì¹´í…Œê³ ë¦¬: [ì „ìì œí’ˆ â–¼]  ì •ë ¬: [ê°€ê²© ë‚®ì€ìˆœ â–¼]              â”‚ â”‚
â”‚  â”‚  ê°€ê²©: â‚©[0] ~ â‚©[500,000]  â˜‘ í’ˆì ˆ ì œì™¸                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  í˜„ì¬ í•„í„°: [ì „ìì œí’ˆ âœ•] [â‚©0-â‚©500,000 âœ•] [í’ˆì ˆ ì œì™¸ âœ•]         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  "ì „ìì œí’ˆ" ê²€ìƒ‰ ê²°ê³¼ (24ê°œ)                                 â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚â”‚
â”‚  â”‚  â”‚ ìƒí’ˆ1  â”‚ â”‚ ìƒí’ˆ2  â”‚ â”‚ ìƒí’ˆ3  â”‚ â”‚ ìƒí’ˆ4  â”‚               â”‚â”‚
â”‚  â”‚  â”‚â‚©50,000â”‚ â”‚â‚©80,000â”‚ â”‚â‚©120,000â”‚ â”‚â‚©150,000â”‚               â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚â”‚
â”‚  â”‚                                                              â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚â”‚
â”‚  â”‚  â”‚ ìƒí’ˆ5  â”‚ â”‚ ìƒí’ˆ6  â”‚ â”‚ ìƒí’ˆ7  â”‚ â”‚ ìƒí’ˆ8  â”‚               â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                  â”‚
â”‚              [1] [2] [3] ... [6] [ë‹¤ìŒ â†’]                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ëª…ì„¸

```typescript
// src/level-5-integration/__tests__/ProductListWithFilters.test.tsx

describe('ìƒí’ˆ ëª©ë¡ í•„í„°/ì •ë ¬/í˜ì´ì§€ë„¤ì´ì…˜ í†µí•©', () => {
  test('í•„í„°, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜ì´ í•¨ê»˜ ë™ì‘í•œë‹¤', async () => {
    const user = userEvent.setup()
    render(<ProductListPage />)
    
    // 1. ì¹´í…Œê³ ë¦¬ í•„í„° ì ìš©
    await user.selectOptions(screen.getByLabelText(/ì¹´í…Œê³ ë¦¬/i), 'ì „ìì œí’ˆ')
    
    // 2. ì •ë ¬ ì ìš©
    await user.selectOptions(screen.getByLabelText(/ì •ë ¬/i), 'priceAsc')
    
    // 3. ê²°ê³¼ í™•ì¸ - ì²« ë²ˆì§¸ ìƒí’ˆì´ ê°€ì¥ ì €ë ´í•´ì•¼ í•¨
    const products = await screen.findAllByTestId('product-card')
    const firstProductPrice = within(products[0]).getByText(/â‚©/)
    expect(firstProductPrice).toHaveTextContent('â‚©50,000')
    
    // 4. 2í˜ì´ì§€ë¡œ ì´ë™
    await user.click(screen.getByRole('button', { name: '2' }))
    
    // 5. í•„í„°ì™€ ì •ë ¬ì´ ìœ ì§€ë˜ëŠ”ì§€ í™•ì¸
    expect(screen.getByLabelText(/ì¹´í…Œê³ ë¦¬/i)).toHaveValue('ì „ìì œí’ˆ')
    expect(screen.getByLabelText(/ì •ë ¬/i)).toHaveValue('priceAsc')
  })

  test('í•„í„° ë³€ê²½ ì‹œ í˜ì´ì§€ê°€ 1ë¡œ ë¦¬ì…‹ëœë‹¤', async () => {
    const user = userEvent.setup()
    render(<ProductListPage />)
    
    // 2í˜ì´ì§€ë¡œ ì´ë™
    await user.click(await screen.findByRole('button', { name: '2' }))
    expect(screen.getByRole('button', { name: '2' })).toHaveAttribute('aria-current', 'page')
    
    // í•„í„° ë³€ê²½
    await user.selectOptions(screen.getByLabelText(/ì¹´í…Œê³ ë¦¬/i), 'ì „ìì œí’ˆ')
    
    // 1í˜ì´ì§€ë¡œ ë¦¬ì…‹ë¨
    await waitFor(() => {
      expect(screen.getByRole('button', { name: '1' })).toHaveAttribute('aria-current', 'page')
    })
  })

  test('URLì— í•„í„° ìƒíƒœê°€ ë°˜ì˜ëœë‹¤', async () => {
    const user = userEvent.setup()
    render(
      <MemoryRouter>
        <ProductListPage />
      </MemoryRouter>
    )
    
    await user.selectOptions(screen.getByLabelText(/ì¹´í…Œê³ ë¦¬/i), 'ì „ìì œí’ˆ')
    await user.selectOptions(screen.getByLabelText(/ì •ë ¬/i), 'priceAsc')
    await user.click(screen.getByRole('button', { name: '2' }))
    
    // URLì— ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ê°€ ë°˜ì˜ë¨
    // ?category=ì „ìì œí’ˆ&sort=priceAsc&page=2
  })

  test('í•„í„° ì´ˆê¸°í™” ì‹œ ëª¨ë“  í•„í„°ì™€ í˜ì´ì§€ê°€ ë¦¬ì…‹ëœë‹¤', async () => {
    const user = userEvent.setup()
    render(<ProductListPage />)
    
    // í•„í„° ì ìš©
    await user.selectOptions(screen.getByLabelText(/ì¹´í…Œê³ ë¦¬/i), 'ì „ìì œí’ˆ')
    await user.click(screen.getByRole('checkbox', { name: /í’ˆì ˆ ì œì™¸/i }))
    await user.click(screen.getByRole('button', { name: '2' }))
    
    // ì´ˆê¸°í™”
    await user.click(screen.getByRole('button', { name: /í•„í„° ì´ˆê¸°í™”/i }))
    
    // ëª¨ë“  ê²ƒì´ ê¸°ë³¸ê°’ìœ¼ë¡œ
    expect(screen.getByLabelText(/ì¹´í…Œê³ ë¦¬/i)).toHaveValue('')
    expect(screen.getByRole('checkbox', { name: /í’ˆì ˆ ì œì™¸/i })).not.toBeChecked()
    expect(screen.getByRole('button', { name: '1' })).toHaveAttribute('aria-current', 'page')
  })
})
```

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê³¼ì œ 5-1: ê²€ìƒ‰ â†’ ì¥ë°”êµ¬ë‹ˆ í”Œë¡œìš°
- [ ] ê²€ìƒ‰ í›„ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ í…ŒìŠ¤íŠ¸
- [ ] í—¤ë” ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸ í…ŒìŠ¤íŠ¸
- [ ] ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ í™•ì¸ í…ŒìŠ¤íŠ¸
- [ ] ì¤‘ë³µ ì¶”ê°€ ì‹œ ìˆ˜ëŸ‰ ì¦ê°€ í…ŒìŠ¤íŠ¸

### ê³¼ì œ 5-2: ë¡œê·¸ì¸ â†’ ì£¼ë¬¸ í”Œë¡œìš°
- [ ] ë¹„ë¡œê·¸ì¸ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í…ŒìŠ¤íŠ¸
- [ ] ë¡œê·¸ì¸ í›„ ì£¼ë¬¸ í˜ì´ì§€ ì´ë™ í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ì •ë³´ ìë™ ì…ë ¥ í…ŒìŠ¤íŠ¸

### ê³¼ì œ 5-3: í•„í„°/ì •ë ¬/í˜ì´ì§€ë„¤ì´ì…˜
- [ ] í†µí•© ë™ì‘ í…ŒìŠ¤íŠ¸
- [ ] í•„í„° ë³€ê²½ ì‹œ í˜ì´ì§€ ë¦¬ì…‹ í…ŒìŠ¤íŠ¸
- [ ] í•„í„° ì´ˆê¸°í™” í…ŒìŠ¤íŠ¸

---

## ğŸ’¡ í•™ìŠµ í¬ì¸íŠ¸

### í†µí•© í…ŒìŠ¤íŠ¸ì—ì„œì˜ Provider ì„¤ì •

```typescript
function renderWithProviders(ui: React.ReactElement, options = {}) {
  return render(
    <MemoryRouter initialEntries={[options.route || '/']}>
      <AuthProvider>
        <CartProvider>
          {ui}
        </CartProvider>
      </AuthProvider>
    </MemoryRouter>
  )
}
```

### withinì„ ì‚¬ìš©í•œ ë²”ìœ„ í•œì •

```typescript
const header = screen.getByRole('banner')
expect(within(header).getByText('1')).toBeInTheDocument()

const productCard = screen.getByTestId('product-1')
expect(within(productCard).getByText('â‚©50,000')).toBeInTheDocument()
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

Level 5ë¥¼ ì™„ë£Œí–ˆë‹¤ë©´ [Level 6: E2E í…ŒìŠ¤íŠ¸](./level-6-e2e.md)ë¡œ ì§„í–‰í•˜ì„¸ìš”.
